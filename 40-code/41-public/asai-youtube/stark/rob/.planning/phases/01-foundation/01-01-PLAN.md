---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app.py
  - requirements.txt
  - .chainlit/config.toml
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User can access web chat interface at localhost:8000"
    - "User can send text messages through chat interface"
    - "User can upload plain text transcript files (.txt)"
    - "User can paste raw transcript text directly into chat input"
    - "Chat interface displays user messages and system responses"
  artifacts:
    - path: "app.py"
      provides: "Chainlit chat application with message handlers"
      min_lines: 50
      contains: ["on_message", "on_chat_start"]
    - path: "requirements.txt"
      provides: "Python dependencies including chainlit"
      contains: "chainlit"
    - path: ".chainlit/config.toml"
      provides: "Chainlit configuration"
      contains: "[project]"
  key_links:
    - from: "app.py"
      to: "chainlit"
      via: "import chainlit and decorators"
      pattern: "import chainlit|@chainlit\\.on_"
    - from: "browser"
      to: "app.py"
      via: "chainlit run command"
      pattern: "chainlit run app.py"
---

<objective>
Set up Chainlit web chat interface with support for text messages, file uploads, and text paste capabilities.

Purpose: Provide the foundational web UI that users will interact with for all chat-based features.
Output: Working Chainlit application accessible at http://localhost:8000 with basic chat functionality.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/REQUIREMENTS.md
@.planning/ROADMAP.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Python project with Chainlit dependency</name>
  <files>requirements.txt</files>
  <action>
    Create requirements.txt with chainlit as the primary dependency.

    Include:
    - chainlit>=1.0.0 (Python chat UI framework)

    Do NOT add other dependencies yet (keep it minimal for this plan).
  </action>
  <verify>cat requirements.txt shows chainlit>=1.0.0</verify>
  <done>requirements.txt exists with chainlit dependency</done>
</task>

<task type="auto">
  <name>Task 2: Create Chainlit application with message handlers</name>
  <files>app.py</files>
  <action>
    Create app.py with Chainlit message handlers.

    Must implement:
    - Import chainlit module
    - @chainlit.on_chat_start decorator with welcome message function
    - @chainlit.on_message decorator that echoes user messages back (basic proof of functionality)
    - Support for both text messages and file attachments using chainlit's message types

    Use chainlit.Message() for responses.

    Do NOT implement any AI logic yet — just echo/acknowledge messages to prove the interface works.
  </action>
  <verify>grep -E "@chainlit\.(on_chat_start|on_message)" app.py returns 2 matches</verify>
  <done>app.py has chat start and message handlers that execute without errors</done>
</task>

<task type="auto">
  <name>Task 3: Create Chainlit configuration</name>
  <files>.chainlit/config.toml</files>
  <action>
    Create .chainlit directory and config.toml with basic project configuration.

    Must include:
    - [project] section with project name
    - Basic UI settings (hide_cot=false to show chain of thought during development)

    Use Chainlit's default configuration template as reference.
  </action>
  <verify>cat .chainlit/config.toml shows [project] section</verify>
  <done>.chainlit/config.toml exists with valid configuration</done>
</task>

<task type="auto">
  <name>Task 4: Verify Chainlit application runs</name>
  <files>app.py</files>
  <action>
    Test that the Chainlit application starts successfully.

    Run: chainlit run app.py --host 0.0.0.0 --port 8000

    Verify the server starts and shows the chat interface URL.
    Then stop the server after verification (Ctrl+C).

    Do NOT leave the server running — this is just a smoke test.
  </action>
  <verify>chainlit run app.py --help executes without errors (confirms chainlit is installed)</verify>
  <done>Chainlit command is available and app.py has no syntax errors</done>
</task>

</tasks>

<verification>
After completing all tasks, verify:

1. requirements.txt exists and contains chainlit>=1.0.0
2. app.py exists with @chainlit.on_chat_start and @chainlit.on_message decorators
3. .chainlit/config.toml exists with [project] section
4. Chainlit CLI is available (chainlit --help works)
5. No Python syntax errors in app.py (python -m py_compile app.py succeeds)

Run this verification:
```bash
cat requirements.txt | grep chainlit
python -m py_compile app.py && echo "Syntax OK"
test -f .chainlit/config.toml && echo "Config exists"
chainlit --help > /dev/null 2>&1 && echo "Chainlit installed"
```
</verification>

<success_criteria>
- [ ] requirements.txt contains chainlit dependency
- [ ] app.py implements message handlers (on_chat_start, on_message)
- [ ] app.py handles both text messages and file uploads
- [ ] .chainlit/config.toml configuration exists
- [ ] Chainlit CLI is available and functional
- [ ] No Python syntax errors in app.py
- [ ] Project structure ready for next plan (database integration)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
